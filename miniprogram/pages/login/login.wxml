<!-- pages/login/login.wxml -->
<view class="login-container">
  <!-- Logo区域 -->
  <view class="logo-section">
    <view class="logo">
      <text class="logo-icon">👓</text>
    </view>
    <text class="app-name">明亮眼镜店</text>
    <text class="app-slogan">专业验光 · 贴心服务</text>
  </view>

  <!-- 登录表单 -->
  <view class="login-form">
    <view class="form-item">
      <text class="label">手机号</text>
      <input 
        class="input-field" 
        type="number" 
        maxlength="11"
        placeholder="请输入手机号" 
        bindinput="onPhoneInput"
        value="{{phone}}"
      />
    </view>
    
    <view class="form-item">
      <text class="label">验证码</text>
      <view class="code-input-wrapper">
        <input 
          class="input-field code-input" 
          type="number" 
          maxlength="6"
          placeholder="请输入验证码" 
          bindinput="onCodeInput"
          value="{{code}}"
        />
        <button 
          class="code-btn {{countdown > 0 ? 'disabled' : ''}}" 
          disabled="{{countdown > 0}}"
          bindtap="sendCode"
        >
          {{countdown > 0 ? countdown + 's' : '获取验证码'}}
        </button>
      </view>
    </view>

    <button class="login-btn" bindtap="handleLogin">登录</button>
    
    <!-- 微信授权登录 -->
    <view class="divider">
      <view class="line"></view>
      <text class="text">或</text>
      <view class="line"></view>
    </view>
    
    <button class="wechat-btn" open-type="getUserInfo" bindgetuserinfo="onGetUserInfo">
      <text class="wechat-icon">💬</text>
      <text>微信快捷登录</text>
    </button>
  </view>

  <!-- 底部提示 -->
  <view class="footer">
    <text class="tips">登录即表示您同意</text>
    <text class="link" bindtap="viewAgreement">《用户服务协议》</text>
  </view>
</view>
