<!-- pages/admin/index/index.wxml -->
<view class="admin-container">
  <!-- 顶部信息 -->
  <view class="header-section">
    <view class="admin-info">
      <view class="avatar">👔</view>
      <view class="info-text">
        <text class="admin-name">管理员</text>
        <text class="admin-role">系统管理</text>
      </view>
    </view>
  </view>

  <!-- 数据概览 -->
  <view class="overview-section card">
    <view class="section-header">
      <text class="section-title">📊 数据概览</text>
    </view>
    <view class="stats-grid">
      <view class="stat-item">
        <text class="stat-value">{{stats.totalCustomers}}</text>
        <text class="stat-label">注册客户</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.totalStaff}}</text>
        <text class="stat-label">店员数量</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">¥{{stats.totalBalance}}</text>
        <text class="stat-label">客户总余额</text>
      </view>
      <view class="stat-item">
        <text class="stat-value">{{stats.todayExams}}</text>
        <text class="stat-label">今日验光</text>
      </view>
    </view>
  </view>

  <!-- 待处理事项 -->
  <view class="pending-section card" wx:if="{{pendingCount > 0}}">
    <view class="pending-alert" bindtap="goToStaffApproval">
      <view class="alert-icon">⚠️</view>
      <view class="alert-content">
        <text class="alert-title">待审核店员</text>
        <text class="alert-desc">有 {{pendingCount}} 位店员等待审核</text>
      </view>
      <text class="alert-arrow">></text>
    </view>
  </view>

  <!-- 管理菜单 -->
  <view class="menu-section">
    <view class="menu-group">
      <view class="menu-title">店员管理</view>
      <view class="menu-item" bindtap="goToStaffApproval">
        <view class="menu-left">
          <text class="menu-icon">✅</text>
          <text class="menu-text">店员审核</text>
        </view>
        <view class="menu-right">
          <text class="badge" wx:if="{{pendingCount > 0}}">{{pendingCount}}</text>
          <text class="menu-arrow">></text>
        </view>
      </view>
      <view class="menu-item" bindtap="viewAllStaff">
        <view class="menu-left">
          <text class="menu-icon">👥</text>
          <text class="menu-text">全部店员</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-title">客户管理</view>
      <view class="menu-item" bindtap="goToCustomerManagement">
        <view class="menu-left">
          <text class="menu-icon">👤</text>
          <text class="menu-text">客户列表</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="viewAllExams">
        <view class="menu-left">
          <text class="menu-icon">📋</text>
          <text class="menu-text">验光记录</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="viewBalanceReport">
        <view class="menu-left">
          <text class="menu-icon">💰</text>
          <text class="menu-text">余额报表</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
    </view>

    <view class="menu-group">
      <view class="menu-title">系统设置</view>
      <view class="menu-item" bindtap="managePrizes">
        <view class="menu-left">
          <text class="menu-icon">🎁</text>
          <text class="menu-text">奖品管理</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
      <view class="menu-item" bindtap="manageRechargeOffers">
        <view class="menu-left">
          <text class="menu-icon">💎</text>
          <text class="menu-text">充值优惠</text>
        </view>
        <text class="menu-arrow">></text>
      </view>
    </view>
  </view>

  <!-- 返回店员端 -->
  <view class="back-section">
    <button class="back-btn" bindtap="goBackToStaff">返回店员端</button>
  </view>
</view>
